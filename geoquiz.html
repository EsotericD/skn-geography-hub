<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Test your CSEC Geography knowledge with interactive quizzes">
  <title>CSEC Geography Quiz - Test Your Knowledge</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .quiz-container {
      max-width: 900px;
      margin: 2rem auto;
      padding: 2rem;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .quiz-section {
      margin-bottom: 3rem;
      border-bottom: 2px solid var(--blue);
      padding-bottom: 2rem;
    }
    
    .quiz-section h2 {
      color: var(--orange);
      text-align: center;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    #quiz-natural, #quiz-weather, #quiz-tourism {
      margin-bottom: 2rem;
    }
    
    .question h3 {
      color: var(--blue);
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }
    
    .question button {
      display: block;
      width: 100%;
      padding: 1rem;
      margin: 0.7rem 0;
      background: var(--white);
      border: 2px solid var(--blue);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
      font-size: 1rem;
      position: relative;
      padding-left: 3rem;
    }
    
    .question button::before {
      content: attr(data-option);
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background-color: var(--light-blue);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: var(--blue);
    }
    
    .question button:hover, .question button:focus {
      background: var(--light-blue);
      border-color: var(--orange);
      outline: 3px solid var(--orange);
      outline-offset: 2px;
    }
    
    .quiz-controls {
      text-align: center;
      margin-top: 2rem;
    }
    
    .start-btn {
      background: var(--orange);
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      margin: 1rem auto;
      font-size: 1.1rem;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s;
    }
    
    .start-btn:hover, .start-btn:focus {
      background: #e07e00;
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      outline: 3px solid var(--blue);
      outline-offset: 2px;
    }
    
    .results {
      padding: 1.5rem;
      background: var(--light-blue);
      border-radius: 8px;
      margin-top: 1.5rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .results h3 {
      color: var(--blue);
      margin-bottom: 1rem;
    }
    
    .results button {
      background: var(--blue);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 1rem;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .results button:hover, .results button:focus {
      background: #1a6b8b;
      transform: translateY(-2px);
      outline: 3px solid var(--orange);
      outline-offset: 2px;
    }
    
    .progress {
      margin: 1.5rem 0;
      font-weight: bold;
      color: var(--blue);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    .progress-bar {
      height: 10px;
      background: #e0e0e0;
      border-radius: 5px;
      width: 200px;
      margin: 0 10px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: var(--blue);
      width: 20%;
      transition: width 0.3s ease;
    }
    
    .feedback {
      padding: 1.5rem;
      margin: 1.5rem 0;
      border-radius: 8px;
      animation: fadeIn 0.5s ease;
    }
    
    .correct {
      background: #e6f7e6;
      border-left: 4px solid #4CAF50;
    }
    
    .incorrect {
      background: #ffebee;
      border-left: 4px solid #f44336;
    }

    .quiz-badge {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: bold;
      margin-left: 10px;
      color: white;
    }

    .quiz-badge.easy {
      background-color: #4CAF50;
    }

    .quiz-badge.medium {
      background-color: #FFA726;
    }

    .quiz-badge.hard {
      background-color: #F44336;
    }

    .score-display {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--blue);
      margin: 1rem 0;
    }

    .quiz-nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
      flex-wrap: wrap;
    }

    .quiz-nav a {
      padding: 0.8rem 1.2rem;
      background-color: var(--light-blue);
      border-radius: 8px;
      transition: all 0.3s;
      text-decoration: none;
      color: var(--blue);
      font-weight: bold;
    }

    .quiz-nav a:hover, .quiz-nav a:focus {
      background-color: var(--blue);
      color: white;
      outline: 3px solid var(--orange);
      outline-offset: 2px;
    }

    .quiz-nav a.active {
      background-color: var(--blue);
      color: white;
    }
    
    .hidden {
      display: none;
    }

    .countdown {
      font-size: 1.2rem;
      font-weight: bold;
      color: var(--orange);
    }
  </style>
</head>
<body>
  <!-- Skip Navigation Link -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <header role="banner">
    <h1>CSEC Geography Quiz</h1>
    <p>Test your knowledge on key syllabus topics</p>
  </header>
  
  <nav role="navigation" aria-label="Main navigation">
    <a href="geohomepage.html">
      <i class="fas fa-home" aria-hidden="true"></i> 
      <span>Home</span>
    </a>
    <a href="geolessons.html">
      <i class="fas fa-book-open" aria-hidden="true"></i> 
      <span>Lessons</span>
    </a>
    <a href="geoquiz.html" class="active" aria-current="page">
      <i class="fas fa-question-circle" aria-hidden="true"></i> 
      <span>Quiz</span>
    </a>
    <a href="aboutgeo.html">
      <i class="fas fa-info-circle" aria-hidden="true"></i> 
      <span>About</span>
    </a>
  </nav>
  
  <div class="hero" style="padding: 2rem 1rem;">
    <p>Select a quiz topic below and test your knowledge of CSEC Geography. Each quiz has 5 questions to help you prepare for your exams.</p>
    <nav class="quiz-nav" aria-label="Quiz topic navigation">
      <a href="#quiz-section-natural" class="smooth-scroll">
        <i class="fas fa-exclamation-triangle" aria-hidden="true"></i> Natural Hazards
      </a>
      <a href="#quiz-section-weather" class="smooth-scroll">
        <i class="fas fa-cloud-sun" aria-hidden="true"></i> Weather &amp; Climate
      </a>
      <a href="#quiz-section-tourism" class="smooth-scroll">
        <i class="fas fa-umbrella-beach" aria-hidden="true"></i> Tourism Impacts
      </a>
    </nav>
  </div>
  
  <main id="main-content" role="main">
    <div class="quiz-container">
      <!-- Live region for screen reader announcements -->
      <div id="quiz-announcements" aria-live="polite" aria-atomic="true" class="sr-only"></div>
      
      <!-- Natural Hazards Quiz -->
      <section class="quiz-section" id="quiz-section-natural" aria-labelledby="natural-hazards-heading">
        <h2 id="natural-hazards-heading">
          <i class="fas fa-exclamation-triangle" aria-hidden="true"></i> Natural Hazards
        </h2>
        <div id="quiz-natural" role="region" aria-live="polite"></div>
        <div class="progress" id="progress-natural" aria-label="Quiz progress">
          <span>Question 1 of 5</span>
          <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-fill" id="progress-fill-natural"></div>
          </div>
        </div>
        <div class="quiz-controls">
          <button class="start-btn" id="start-natural" aria-describedby="natural-quiz-desc">
            <i class="fas fa-play" aria-hidden="true"></i> Start Natural Hazards Quiz
          </button>
          <div id="natural-quiz-desc" class="sr-only">Begin the 5-question quiz about natural hazards in the Caribbean</div>
          <div class="results hidden" id="results-natural" role="region" aria-live="polite"></div>
        </div>
      </section>
      
      <!-- Weather & Climate Quiz -->
      <section class="quiz-section" id="quiz-section-weather" aria-labelledby="weather-heading">
        <h2 id="weather-heading">
          <i class="fas fa-cloud-sun" aria-hidden="true"></i> Weather &amp; Climate
        </h2>
        <div id="quiz-weather" role="region" aria-live="polite"></div>
        <div class="progress" id="progress-weather" aria-label="Quiz progress">
          <span>Question 1 of 5</span>
          <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-fill" id="progress-fill-weather"></div>
          </div>
        </div>
        <div class="quiz-controls">
          <button class="start-btn" id="start-weather" aria-describedby="weather-quiz-desc">
            <i class="fas fa-play" aria-hidden="true"></i> Start Weather &amp; Climate Quiz
          </button>
          <div id="weather-quiz-desc" class="sr-only">Begin the 5-question quiz about weather and climate patterns</div>
          <div class="results hidden" id="results-weather" role="region" aria-live="polite"></div>
        </div>
      </section>
      
      <!-- Tourism Impacts Quiz -->
      <section class="quiz-section" id="quiz-section-tourism" aria-labelledby="tourism-heading">
        <h2 id="tourism-heading">
          <i class="fas fa-umbrella-beach" aria-hidden="true"></i> Tourism Impacts
        </h2>
        <div id="quiz-tourism" role="region" aria-live="polite"></div>
        <div class="progress" id="progress-tourism" aria-label="Quiz progress">
          <span>Question 1 of 5</span>
          <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-fill" id="progress-fill-tourism"></div>
          </div>
        </div>
        <div class="quiz-controls">
          <button class="start-btn" id="start-tourism" aria-describedby="tourism-quiz-desc">
            <i class="fas fa-play" aria-hidden="true"></i> Start Tourism Impacts Quiz
          </button>
          <div id="tourism-quiz-desc" class="sr-only">Begin the 5-question quiz about tourism impacts in the Caribbean</div>
          <div class="results hidden" id="results-tourism" role="region" aria-live="polite"></div>
        </div>
      </section>
    </div>
  </main>
  
  <section class="cta" style="background-color: var(--light-blue); padding: 3rem 2rem; text-align: center; margin-top: 2rem;" aria-labelledby="cta-heading">
    <h2 id="cta-heading">Need More Study Material?</h2>
    <p>Check out our detailed lessons to get a better understanding of each topic.</p>
    <a href="geolessons.html" class="btn">
      <i class="fas fa-book-open" aria-hidden="true"></i> View Lessons
    </a>
  </section>
  
  <footer role="contentinfo">
    <div class="footer-content">
      <p>&copy; 2025 CSEC Geography Hub • Prototype for Computing Dissertation Project • No user data collected</p>
      <nav class="footer-links" aria-label="Footer navigation">
        <a href="geohomepage.html">Home</a>
        <a href="geolessons.html">Lessons</a>
        <a href="geoquiz.html">Quiz</a>
        <a href="aboutgeo.html">About</a>
      </nav>
    </div>
  </footer>
  
  <script>
    // Quiz data remains the same - shortened for brevity but fully functional
    const quizzes = {
      natural: {
        title: "Natural Hazards",
        questions: [
          {
            question: "Which plate boundary is responsible for most earthquakes in the Caribbean?",
            options: ["Divergent boundary", "Convergent boundary (Caribbean and North American plates)", "Transform boundary", "Hotspot"],
            answer: 1,
            explanation: "The Caribbean sits on a small plate bordered by the North American plate to the north and east."
          },
          {
            question: "What is the name of the scale used to measure earthquake intensity?",
            options: ["Richter scale", "Beaufort scale", "Saffir-Simpson scale", "Mercalli scale"],
            answer: 3,
            explanation: "The Modified Mercalli Intensity Scale measures the effects of an earthquake at different locations."
          },
          {
            question: "Which of these is NOT a primary effect of a volcanic eruption?",
            options: ["Pyroclastic flows", "Lahars (mudflows)", "Tsunamis", "Global cooling from ash in atmosphere"],
            answer: 3,
            explanation: "Global cooling is a secondary effect caused by volcanic ash reflecting sunlight back into space."
          },
          {
            question: "What is the most effective long-term strategy for reducing volcanic risk?",
            options: ["Evacuation drills", "Land-use zoning", "Building reinforced shelters", "Insurance programs"],
            answer: 1,
            explanation: "Land-use zoning that prevents construction in high-risk areas is the most effective long-term strategy."
          },
          {
            question: "Which Caribbean island was completely evacuated due to volcanic activity in 1995?",
            options: ["Montserrat", "St. Lucia", "Dominica", "St. Vincent"],
            answer: 0,
            explanation: "The Soufrière Hills volcano on Montserrat became active in 1995."
          }
        ]
      },
      weather: {
        title: "Weather & Climate",
        questions: [
          {
            question: "What is the primary cause of the trade winds in the Caribbean?",
            options: ["Rotation of the Earth (Coriolis effect)", "Temperature differences between land and sea", "High pressure systems over the Atlantic", "Ocean currents in the region"],
            answer: 0,
            explanation: "The trade winds are caused by the Coriolis effect deflecting air moving from the subtropical high pressure towards the equatorial low pressure."
          },
          {
            question: "Which instrument is used to measure atmospheric pressure?",
            options: ["Anemometer", "Barometer", "Hygrometer", "Stevenson screen"],
            answer: 1,
            explanation: "A barometer measures atmospheric pressure, which is important for predicting weather changes."
          },
          {
            question: "What is the ITCZ (Intertropical Convergence Zone)?",
            options: ["A permanent high pressure zone", "The boundary between trade winds from both hemispheres", "An area of constant hurricanes", "A cold ocean current"],
            answer: 1,
            explanation: "The ITCZ is where northeast and southeast trade winds converge, causing uplift of warm moist air and frequent rainfall."
          },
          {
            question: "Which factor most influences the temperature range in coastal Caribbean areas?",
            options: ["Altitude", "Ocean currents", "Distance from the equator", "Urban development"],
            answer: 1,
            explanation: "The sea has a moderating effect, keeping coastal areas cooler in the day and warmer at night compared to inland areas."
          },
          {
            question: "What is the main reason hurricanes lose strength when they make landfall?",
            options: ["Decreased Coriolis effect", "Lack of warm ocean water as energy source", "Interaction with mountains", "Increased friction with land"],
            answer: 1,
            explanation: "Hurricanes derive their energy from warm ocean waters, so they weaken rapidly when cut off from this heat source after landfall."
          }
        ]
      },
      tourism: {
        title: "Tourism Impacts",
        questions: [
          {
            question: "What is the main economic benefit of tourism to Caribbean countries?",
            options: ["Increased cultural exchange", "Foreign currency earnings", "Improved infrastructure", "Environmental protection"],
            answer: 1,
            explanation: "Tourism brings in much-needed foreign exchange which can be used to import goods and pay foreign debts."
          },
          {
            question: "Which of these is a negative environmental impact of tourism?",
            options: ["Creation of jobs", "Increased demand for local crafts", "Beach erosion from hotel construction", "Improved water supply systems"],
            answer: 2,
            explanation: "Poorly planned coastal development for tourism can lead to beach erosion and damage to coral reefs."
          },
          {
            question: "What does the term 'economic leakage' refer to in tourism?",
            options: ["Money lost through poor accounting", "Funds that leave the country to pay for imports and foreign ownership", "Taxes collected from tourists", "Wages paid to local workers"],
            answer: 1,
            explanation: "Economic leakage occurs when money spent by tourists leaves the country to pay for imported goods and services or profits to foreign-owned companies."
          },
          {
            question: "Which type of tourism is most sustainable for small Caribbean islands?",
            options: ["Mass tourism (large resorts)", "Cruise ship tourism", "Ecotourism", "All-inclusive package tourism"],
            answer: 2,
            explanation: "Ecotourism has lower environmental impact and often provides more benefits to local communities than mass tourism."
          },
          {
            question: "What is one way Caribbean governments try to reduce seasonality in tourism?",
            options: ["Building larger airports", "Offering summer discounts", "Promoting cultural festivals in off-peak seasons", "Increasing hotel taxes"],
            answer: 2,
            explanation: "By creating attractions like festivals outside the traditional winter season, destinations can extend their tourist season."
          }
        ]
      }
    };

    // Initialize all quizzes
    document.addEventListener('DOMContentLoaded', function() {
      initializeQuiz('natural');
      initializeQuiz('weather');
      initializeQuiz('tourism');
      
      // Setup smooth scrolling with enhanced accessibility
      document.querySelectorAll('.smooth-scroll').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          
          document.querySelectorAll('.quiz-nav a').forEach(link => {
            link.classList.remove('active');
          });
          this.classList.add('active');
          
          const target = document.querySelector(this.getAttribute('href'));
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
          
          // Set focus for keyboard users
          target.setAttribute('tabindex', '-1');
          target.focus();
        });
      });
      
      // Check if URL has a hash and scroll to that section
      if (window.location.hash) {
        const targetSection = document.querySelector(window.location.hash);
        if (targetSection) {
          setTimeout(() => {
            targetSection.scrollIntoView({ behavior: 'smooth' });
            
            // Activate the corresponding nav link
            document.querySelectorAll('.quiz-nav a').forEach(link => {
              if (link.getAttribute('href') === window.location.hash) {
                link.classList.add('active');
              }
            });
          }, 100);
        }
      }
    });

    function initializeQuiz(quizId) {
      const quizData = quizzes[quizId];
      let current = 0, score = 0;
      const quizEl = document.getElementById(`quiz-${quizId}`);
      const resultsEl = document.getElementById(`results-${quizId}`);
      const progressEl = document.getElementById(`progress-${quizId}`);
      const progressFillEl = document.getElementById(`progress-fill-${quizId}`);
      const startBtn = document.getElementById(`start-${quizId}`);
      const announcements = document.getElementById('quiz-announcements');

      startBtn.addEventListener('click', function() {
        startBtn.classList.add('hidden');
        resultsEl.classList.add('hidden');
        if (announcements) {
          announcements.textContent = `Starting ${quizData.title} quiz. Question 1 of ${quizData.questions.length}.`;
        }
        showQuestion();
      });

      function showQuestion() {
        if (current >= quizData.questions.length) return showResults();
        
        // Update progress
        const progressText = `Question ${current+1} of ${quizData.questions.length}`;
        progressEl.querySelector('span').textContent = progressText;
        const progressPercent = ((current) / quizData.questions.length) * 100;
        progressFillEl.style.width = `${progressPercent}%`;
        
        // Update progress bar ARIA attributes
        const progressBar = progressEl.querySelector('.progress-bar');
        progressBar.setAttribute('aria-valuenow', progressPercent);
        progressBar.setAttribute('aria-valuetext', progressText);
        
        const q = quizData.questions[current];
        
        quizEl.innerHTML = `
          <div class="question" role="group" aria-labelledby="question-${quizId}-${current}">
            <h3 id="question-${quizId}-${current}">${q.question}</h3>
            <div role="radiogroup" aria-labelledby="question-${quizId}-${current}">
              ${q.options.map((o,i) => 
                `<button onclick="selectAnswer('${quizId}', ${i})" 
                         data-option="${String.fromCharCode(65 + i)}"
                         role="radio" aria-checked="false">
                  ${o}
                </button>`
              ).join('')}
            </div>
          </div>
        `;
        
        // Focus first option for keyboard users
        setTimeout(() => {
          const firstOption = quizEl.querySelector('button');
          if (firstOption) {
            firstOption.focus();
          }
        }, 100);
      }

      function showResults() {
        quizEl.innerHTML = "";
        progressEl.style.display = 'none';
        
        const percentage = Math.round((score / quizData.questions.length) * 100);
        let message, badgeClass;
        
        if (percentage >= 80) {
          message = "Excellent! You have mastered this topic.";
          badgeClass = "easy";
        }
        else if (percentage >= 60) {
          message = "Good work! Review some areas to improve.";
          badgeClass = "medium";
        }
        else {
          message = "Keep studying! Review the lesson and try again.";
          badgeClass = "hard";
        }
        
        resultsEl.innerHTML = `
          <h3>${quizData.title} Quiz Complete!</h3>
          <div class="score-display">${score} out of ${quizData.questions.length} <span class="quiz-badge ${badgeClass}">${percentage}%</span></div>
          <p>${message}</p>
          <button onclick="resetQuiz('${quizId}')">
            <i class="fas fa-redo" aria-hidden="true"></i> Try Again
          </button>
        `;
        resultsEl.classList.remove('hidden');
        
        // Announce results
        if (announcements) {
          announcements.textContent = `Quiz completed! You scored ${score} out of ${quizData.questions.length}, that's ${percentage} percent. ${message}`;
        }
      }

      window[`selectAnswer_${quizId}`] = function(index) {
        const q = quizData.questions[current];
        const optionButtons = document.querySelectorAll(`#quiz-${quizId} button`);
        
        // Disable all buttons and update ARIA states
        optionButtons.forEach((btn, i) => {
          btn.disabled = true;
          btn.setAttribute('aria-checked', i === index ? 'true' : 'false');
        });
        
        if (index === q.answer) {
          score++;
          quizEl.innerHTML += `<div class="feedback correct" role="alert">
            <p><i class="fas fa-check-circle" aria-hidden="true"></i> Correct!</p>
            <p>${q.explanation}</p>
            <div class="countdown">Next question in <span id="timer-${quizId}">5</span> seconds</div>
          </div>`;
          optionButtons[index].style.borderColor = '#4CAF50';
          optionButtons[index].style.backgroundColor = '#e6f7e6';
          if (announcements) announcements.textContent = "Correct answer!";
        } else {
          quizEl.innerHTML += `<div class="feedback incorrect" role="alert">
            <p><i class="fas fa-times-circle" aria-hidden="true"></i> Incorrect!</p>
            <p>The correct answer is: ${q.options[q.answer]}</p>
            <p>${q.explanation}</p>
            <div class="countdown">Next question in <span id="timer-${quizId}">5</span> seconds</div>
          </div>`;
          optionButtons[index].style.borderColor = '#f44336';
          optionButtons[index].style.backgroundColor = '#ffebee';
          optionButtons[q.answer].style.borderColor = '#4CAF50';
          optionButtons[q.answer].style.backgroundColor = '#e6f7e6';
          if (announcements) announcements.textContent = `Incorrect. The correct answer was ${q.options[q.answer]}.`;
        }
        
        // Countdown timer
        let timeLeft = 5;
        const timerId = setInterval(() => {
          timeLeft--;
          const timerElement = document.getElementById(`timer-${quizId}`);
          if (timerElement) timerElement.textContent = timeLeft;
          if (timeLeft <= 0) {
            clearInterval(timerId);
            current++;
            showQuestion();
          }
        }, 1000);
      };

      window[`resetQuiz_${quizId}`] = function() {
        current = 0; 
        score = 0;
        resultsEl.classList.add('hidden');
        progressEl.style.display = 'block';
        startBtn.classList.remove('hidden');
        quizEl.innerHTML = "";
        progressEl.querySelector('span').textContent = `Question 1 of ${quizData.questions.length}`;
        progressFillEl.style.width = "0%";
      };
    }

    // Global functions for button clicks
    function selectAnswer(quizId, index) {
      window[`selectAnswer_${quizId}`](index);
    }

    function resetQuiz(quizId) {
      window[`resetQuiz_${quizId}`]();
    }
  </script>
</body>
</html>